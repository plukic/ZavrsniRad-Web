var AHelper={loader:".loader-block",jqxhr:"",formbKey:"#formb",formsKey:"#forms",formeKey:"#forme",targetBlockKey:"#dataTarget",modalBlockId:"#modal-block",modalContainerId:"#modal-container",notificationDuration:5e3,timer:"",showLoader:function(n){n?$(this.loader).show("slow"):$(this.loader).hide("slow")},loadData:function(n,t){this.showLoader(!0);jqxhr=$.get(n);jqxhr.done(function(n){$(t||AHelper.targetBlockKey).html(n);AHelper.showLoader(!1)});jqxhr.fail(function(n){n.responseJSON.redirectUrl&&(location.href=n.responseJSON.redirectUrl);AHelper.displayNotification(n.responseJSON.message,n.responseJSON.type);AHelper.showLoader(!1)})},simulateModal:function(n,t){if(n.length>0){var i=$("<a />",{"class":"modal-link hidden",href:n});$(t||AHelper.targetBlockKey).append(i);i[0].click()}},triggerAction:function(n,t){clearTimeout(this.timer);this.showLoader(!0);var i=this.appendAntiforgeryToken();jqxhr=$.ajax({url:n,type:"POST",data:i,cache:!1});jqxhr.done(function(n){AHelper.displayNotification(n.message,n.type);$(AHelper.modalContainerId).modal("hide");n.operationStatus&&n.redirectUrl&&AHelper.loadData(n.redirectUrl,t);AHelper.showLoader(!1)});jqxhr.fail(function(n){n.responseJSON.redirectUrl&&(location.href=n.responseJSON.redirectUrl);AHelper.displayNotification(n.responseJSON.message,n.responseJSON.type);AHelper.showLoader(!1)})},generatePopup:function(n,t){$("#popup").find("p").text(n);$("#popup").find("a").attr("href",t);$("#popup").show("slow");this.timer=setTimeout(function(){$("#popup").hide("slow")},AHelper.notificationDuration);var i=$("<li />").append($("<a />",{href:t,text:n}).prepend($("<i />",{"class":"fa fa-car text-error margin-r-5"})));$("#notificationsMenu").append(i)},displayNotification:function(n,t){$("#notify").removeClass().addClass(t);$("#notify").text(n).show("slow");this.timer=setTimeout(function(){$("#notify").hide("slow")},AHelper.notificationDuration)},postData:function(n){var t=$(AHelper.formbKey);return t.find("#status").val(n),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),cache:!1,beforeSend:function(){t.find(".btn-danger").prop("disabled",!0).html('<i class="fa fa-life-ring fa-spin"><\/i>')},success:function(n){n.operationStatus?($(AHelper.modalContainerId).modal("hide"),AHelper.displayNotification(n.message,n.type),n.redirectUrl&&AHelper.loadData(n.redirectUrl)):$(AHelper.modalBlockId).html(n)},fail:function(n){n.responseJSON.redirectUrl&&(location.href=n.responseJSON.redirectUrl);AHelper.displayNotification(n.responseJSON.message,n.responseJSON.type);AHelper.showLoader(!1)}}),!1},postDataWithFile:function(n){var t=$(AHelper.formeKey),i=new FormData($(t)[0]);return i=this.appendAntiforgeryToken(i),t.find("#status").val(n),jqxhr=$.ajax({url:t.attr("action"),type:"POST",data:i,cache:!1,processData:!1,contentType:!1}),jqxhr.done(function(n){n.operationStatus?($(AHelper.modalContainerId).modal("hide"),AHelper.displayNotification(n.message,n.type),n.redirectUrl&&AHelper.loadData(n.redirectUrl)):$(AHelper.modalBlockId).html(n)}),jqxhr.fail(function(n){n.responseJSON.redirectUrl&&(location.href=n.responseJSON.redirectUrl);AHelper.displayNotification(n.responseJSON.message,n.responseJSON.type);AHelper.showLoader(!1)}),!1},searchData:function(n,t){n=$(n||AHelper.formsKey);jqxhr=$.ajax({url:n.attr("action"),type:"POST",data:n.serialize(),cache:!1});jqxhr.done(function(n){$(t||AHelper.targetBlockKey).html(n)});jqxhr.fail(function(n){n.responseJSON.redirectUrl&&(location.href=n.responseJSON.redirectUrl);AHelper.displayNotification(n.responseJSON.message,n.responseJSON.type);AHelper.showLoader(!1)})},appendAntiforgeryToken:function(n){n=n||{};var t=$("input[name=__RequestVerificationToken]");return t.length>0&&(n.__RequestVerificationToken=t.val()),n}};